<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> ant search | Stefan M. Popp </title> <meta name="author" content="Stefan M. Popp"> <meta name="description" content="PhD thesis - Ant search strategies for targets of unkown locations"> <meta name="keywords" content="scientist, biology, ants, behavior, movement, meander, fish, model, data, analysis, arizona"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stefanmpopp.github.io/projects/1_project/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Stefan</span> M. Popp </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">ant search</h1> <p class="post-description">PhD thesis - Ant search strategies for targets of unkown locations</p> </header> <article> <p>These are the first 3 chapters of my PhD thesis</p> <h3>methods</h3> <p>I let whole colonies of ants search freely in a custom-built large arena which I recorded with 4 cameras to track the antsâ€™ movements. Since I was interested in their search behavior for novel targets, I never added any resources in the arena.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/temno-480.webp 480w,/assets/img/temno-800.webp 800w,/assets/img/temno-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/temno.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/Nest-480.webp 480w,/assets/img/Nest-800.webp 800w,/assets/img/Nest-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/Nest.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/setup_below-480.webp 480w,/assets/img/setup_below-800.webp 800w,/assets/img/setup_below-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/setup_below.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> <strong>Left:</strong> The study species, <em>Temnothorax rugatulus</em> (by Takao Sasaki), <strong>Middle:</strong> Artificial nest with colony which was placed in the arena underneath a layer of paper. <strong>Right:</strong> Experimental arena (2x3 m, ~1000x an ant's size). </div> <h3>analysis</h3> <p>I preprocessed the 4 5h long 4K videos with a bash routine, first applying filters in ffmpeg and cutting them up for more accurate tracking. The processed videos were then fully automatically tracked with <a href="https:\\www.trex.run">TRex</a>.</p> <details><summary>ffmpeg pipeline</summary> <p> ``` code should be here ``` </p> </details> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    #!/bin/bash
    dir="/home/stefan/Desktop/2020_clone" # highest common diectory path of input &amp; output of videos
    dirIn='/HRM_V' # input path starting from dir
    dirOut='/allVids' # output path starting from dir
    
    vid="$1" # e.g. T1
    cam="$2" # e.g. NE
    st="$3" # start time in s, e.g. 12

    # run the command &lt;name of this file&gt; vid cam st
    # Example: ffmpegScript T1 NE 12
    
    #######################################################
    #                      Explanation                    #
    # -ss start time                                      #
    # -t  end time                                        #
    # -an sound not exported                              #
    # -vf video filter (increasing contrast &amp; brigthness) #
    # -b  output bitrate                                  #
    #######################################################
    
    #ffmpeg -ss 0:00:${st} -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}01.MP4 &amp;&amp;
    #ffmpeg -ss 0:30:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}02.MP4 &amp;&amp;
    #ffmpeg -ss 1:00:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}03.MP4 &amp;&amp;
    #ffmpeg -ss 1:30:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}04.MP4 &amp;&amp;
    #ffmpeg -ss 2:00:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}05.MP4 &amp;&amp;
    #ffmpeg -ss 2:30:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}06.MP4 &amp;&amp;
    #ffmpeg -ss 3:00:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}1.MP4 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}07.MP4 &amp;&amp;
    #ffmpeg -i ${dir}${dirIn}/HRM_${vid}_${cam}2.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}08.MP4 &amp;&amp;
    #ffmpeg -ss 0:30:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}2.MP4 -t 0:30:02 -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}09.MP4 &amp;&amp;
    #ffmpeg -ss 1:00:00 -i ${dir}${dirIn}/HRM_${vid}_${cam}2.MP4 -t 0:30:${st} -an -vf eq=contrast=2.6:brightness=0.5 -b:v 4M ${dir}${dirOut}/HRM_${vid}_${cam}10.MP4
</code></pre></div></div> <p>TRex pipeline</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
#dir="/media/stefan/HRM"
dir="/home/stefan/Desktop/2020_clone"
vid="$1" # e.g. T1
cam="$2" # e.g. SW
exp="HRM"

echo "${col} " &gt; ~/Desktop/progress # Writes current computing progress into a text file
for pt in 01 02 03 04 05 06 07 08 09 10
do
 tic=$SECONDS
 tgrabs -i ${dir}/allVids/${exp}_${vid}_${cam}${pt}.MP4 -s ${dir}/trex/tgrabs${cam}.settings -d $dir/tGrabOut &amp;&amp;
 trex -i ${dir}/tGrabOut/${exp}_${vid}_${cam}${pt}.pv -s ${dir}/trex/trex${cam}.settings -d ${dir}/tracks -fishdata_dir ${exp}_${vid}_rawIndiv
 toc=$(($SECONDS - tic)) # Computation time
 echo "${cam}${pt} in ${toc}s" &gt;&gt; ~/Desktop/progress # Writes computing time to progress file for computing time estimation.
done

find ${dir}/tracks -name "*.csv" -type 'f' -size 63c -delete # deletes empty files (&lt;63 bytes)

framesListPath=${dir}/allVids/${exp}_${vid}_framesList.txt
if test -f "$framesListPath"; then
    if test -f "${exp}_${vid}_rawIndiv"; then
        mv ${framesListPath} ${dir}/tracks/${exp}_${vid}_rawIndiv # Moves file with frame #s per video chunk to the folder w/ the current tracks. Needed for track concatenation in MATLAB tr1CatStitch 
    fi
fi
</code></pre></div></div> <p>TODO: I made a whole MATLAB program w/ tutorials for undergrads <code class="language-plaintext highlighter-rouge">tutorial video</code></p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/5-480.webp 480w,/assets/img/5-800.webp 800w,/assets/img/5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/5.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> This image can also have a caption. It's like magic. </div> <p>TODO: The things we found, wtih <code class="language-plaintext highlighter-rouge">citations</code> <a class="citation" href="#popp_ants_2023">(Popp &amp; Dornhaus, 2023)</a>.<a class="citation" href="#popp_ant_2023">(Popp &amp; Dornhaus, 2023)</a>, <a class="citation" href="#popp_ant_2023">(Popp &amp; Dornhaus, 2023)</a> Key results, with significance</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/6-480.webp 480w,/assets/img/6-800.webp 800w,/assets/img/6-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/6.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/11-480.webp 480w,/assets/img/11-800.webp 800w,/assets/img/11-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/11.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> You can also have artistically styled 2/3 + 1/3 images, like these. </div> <p>The code is simple. Just wrap your images with <code class="language-plaintext highlighter-rouge">&lt;div class="col-sm"&gt;</code> and place them inside <code class="language-plaintext highlighter-rouge">&lt;div class="row"&gt;</code> (read more about the <a href="https://getbootstrap.com/docs/4.4/layout/grid/" rel="external nofollow noopener" target="_blank">Bootstrap Grid</a> system). To make images responsive, add <code class="language-plaintext highlighter-rouge">img-fluid</code> class to each; for rounded corners and shadows use <code class="language-plaintext highlighter-rouge">rounded</code> and <code class="language-plaintext highlighter-rouge">z-depth-1</code> classes. Hereâ€™s the code for the last row of images above:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row justify-content-sm-center"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-8 mt-3 mt-md-0"</span><span class="nt">&gt;</span>
    {% include figure.liquid path="assets/img/6.jpg" title="example image" class="img-fluid rounded z-depth-1" %}
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-4 mt-3 mt-md-0"</span><span class="nt">&gt;</span>
    {% include figure.liquid path="assets/img/11.jpg" title="example image" class="img-fluid rounded z-depth-1" %}
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2023</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/publication_preview/mndr_graph-480.webp 480w,/assets/img/publication_preview/mndr_graph-800.webp 800w,/assets/img/publication_preview/mndr_graph-1400.webp 1400w," sizes="200px" type="image/webp"> <img src="/assets/img/publication_preview/mndr_graph.jpg" class="preview z-depth-1 rounded" width="100%" height="auto" alt="mndr_graph.jpg" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </source></picture> </figure> </div> <div id="popp_ants_2023" class="col-sm-8"> <div class="title">Ants combine systematic meandering and correlated random walks when searching for unknown resources</div> <div class="author"> Stefan Popp ,Â andÂ Anna Dornhaus </div> <div class="periodical"> <em>iScience</em>, Jan 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="https://www.sciencedirect.com/science/article/pii/S2589004222021897" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://www.cell.com/iscience/pdf/S2589-0042(22)02189-7.pdf" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">PDF</a> </div> <div class="abstract hidden"> <p>Animal search movements are typically assumed to be mostly random walks, although non-random elements may be widespread. We tracked ants (Temnothorax rugatulus) in a large empty arena, resulting in almost 5 km of trajectories. We tested for meandering by comparing the turn autocorrelations for empirical ant tracks and simulated, realistic Correlated Random Walks. We found that 78% of ants show significant negative autocorrelation around 10 mm (3 body lengths). This means that turns in one direction are likely followed by turns in the opposite direction after this distance. This meandering likely makes the search more efficient, as it allows ants to avoid crossing their own paths while staying close to the nest, avoiding return-travel time. Combining systematic search with stochastic elements may make the strategy less vulnerable to directional inaccuracies. This study is the first to find evidence for efficient search by regular meandering in a freely searching animal.</p> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/publication_preview/explore_prev.webp-480.webp 480w,/assets/img/publication_preview/explore_prev.webp-800.webp 800w,/assets/img/publication_preview/explore_prev.webp-1400.webp 1400w," sizes="200px" type="image/webp"> <img src="/assets/img/publication_preview/explore_prev.webp" class="preview z-depth-1 rounded" width="100%" height="auto" alt="explore_prev.webp" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </source></picture> </figure> </div> <div id="popp_ant_2023" class="col-sm-8"> <div class="title">Ant colonies explore novel environments with more slower, curvier walks, particularly near the nest</div> <div class="author"> Stefan Popp ,Â andÂ Anna Dornhaus </div> <div class="periodical"> <em>Insectes Sociaux</em>, Oct 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="https://link.springer.com/article/10.1007/s00040-023-00938-z#Abs1" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="badges"> <span class="altmetric-embed" data-hide-no-mentions="true" data-hide-less-than="15" data-badge-type="2" data-badge-popover="right" data-doi="10.1007/s00040-023-00938-z"></span> </div> <div class="abstract hidden"> <p>Central-place foragers must learn the resource and visual landscapes around them when they are in a new environment, to facilitate efficient foraging and navigation. We investigated how the colony-level exploration strategy of Temnothorax rugatulus ants changes over time. For this study, we introduced ants to a novel environment by placing them in a foraging arena and tracking their movements over 3Â days for 5Â h per day, prohibiting access to the arena at other times. To test whether any changes in movement behavior are due to chemical markings, we replaced the paper floor on the third day. We found that colony-level exploration activity decreased with time, but only within a roughly 1Â m radius around the nest, possibly reflecting a shift from familiarization or marking walks to searching. Individualsâ€™ movements overall also became slightly straighter and faster across and within days. However, unlike learning walks of other ant species, T. rugatulus ants did not pause more often when facing toward the nest. Reactions to chemical markings seem to play a minor role in our observed effects, as the exploratory behavior did not reset after the floor cover had been replaced. Thus, ant colony exploration and search behaviors adapt to the familiarity of their environment by becoming more dispersive, possibly aiding in search efficiency. This must be considered in lab studies on the foraging activity and behavior of ants.</p> </div> </div> </div> </li> </ol> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> Â© Copyright 2024 Stefan M. Popp. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos by Stefan Popp Last updated: February 29, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>